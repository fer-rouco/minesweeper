import{C as K,D as Z,E as R,H as z,K as H,R as h,S as g,T,V as F,X as O,a as A,aa as $,ba as q,ca as Y,d as U,e as C,f as x,fa as D,g as c,ga as J,h as W,ha as Q,i as I,ia as X,j as N,ja as ee,ka as E,l as P,la as te,m as l,n as d,o as p,p as B,q as L,r as b,sa as re,t as V,ta as ne,u as k,v as f,w as G,x as _,y as M,z as m}from"./chunk-IS7UHNAX.js";var oe=(()=>{let e=class e{constructor(r){this.router=r}navigateToBoard(){this.router.navigateByUrl("/board")}navigateToSetup(){this.router.navigateByUrl("/setup")}};e.\u0275fac=function(n){return new(n||e)(z(ee))},e.\u0275cmp=M({type:e,selectors:[["app-page-not-found"]],decls:9,vars:0,consts:[[1,"page-not-found"],[1,"page-not-found__message"],[1,"page-not-found__buttons"],[3,"click"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"h1",1),O(2,"Page not found!"),g(),T(3,"br"),h(4,"div",2)(5,"custom-button",3),F("click",function(){return i.navigateToSetup()}),O(6," Go to Setup "),g(),h(7,"custom-button",3),F("click",function(){return i.navigateToBoard()}),O(8," Go to Board "),g()()())},dependencies:[te],styles:[".page-not-found[_ngcontent-%COMP%]{text-align:center}.page-not-found__message[_ngcontent-%COMP%]{font-size:3rem}.page-not-found__buttons[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});let t=e;return t})();var me=[{path:"",redirectTo:"/setup",pathMatch:"full"},{path:"setup",loadComponent:()=>import("./chunk-7ZRZCEXL.js").then(t=>t.SetupComponent)},{path:"board",loadComponent:()=>import("./chunk-IOFI2DA2.js").then(t=>t.BoardComponent)},{path:"finished-games-list",loadComponent:()=>import("./chunk-M2BYQGR7.js").then(t=>t.FinishedGamesListComponent)},{path:"**",component:oe}],ie=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m({type:e}),e.\u0275inj=f({imports:[E.forRoot(me),E]});let t=e;return t})();var se=(()=>{let e=class e{constructor(){this.title="minesweeper"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=M({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"app"]],template:function(n,i){n&1&&(h(0,"div",0),T(1,"notification")(2,"router-outlet"),g())},dependencies:[X,re],styles:[".app[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;padding:.5rem}"]});let t=e;return t})();var y="Service workers are disabled or not supported by this browser";function he(t){return I(()=>x(new Error(t)))}var v=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=he(y);else{let r=N(e,"controllerchange").pipe(c(()=>e.controller)),n=I(()=>C(e.controller)),i=W(n,r);this.worker=i.pipe(d(u=>!!u)),this.registration=this.worker.pipe(b(()=>e.getRegistration()));let j=N(e,"message").pipe(c(u=>u.data)).pipe(d(u=>u&&u.type)).pipe(L());j.connect(),this.events=j}}postMessage(e,o){return this.worker.pipe(p(1),V(r=>{r.postMessage(A({action:e},o))})).toPromise().then(()=>{})}postMessageWithOperation(e,o,r){let n=this.waitForOperationCompleted(r),i=this.postMessage(e,o);return Promise.all([i,n]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let o;return typeof e=="string"?o=r=>r.type===e:o=r=>e.includes(r.type),this.events.pipe(d(o))}nextEventOfType(e){return this.eventsOfType(e).pipe(p(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(d(o=>o.nonce===e),p(1),c(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},ue=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new U,!r.isEnabled){this.messages=l,this.notificationClicks=l,this.subscription=l;return}this.messages=this.sw.eventsOfType("PUSH").pipe(c(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(c(i=>i.data)),this.pushManager=this.sw.registration.pipe(c(i=>i.pushManager));let n=this.pushManager.pipe(b(i=>i.getSubscription()));this.subscription=P(n,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(y));let n={userVisibleOnly:!0},i=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)a[s]=i.charCodeAt(s);return n.applicationServerKey=a,this.pushManager.pipe(b(s=>s.subscribe(n)),p(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(y));let r=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(p(1),b(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(n){return new(n||e)(_(v))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),le=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=l,this.unrecoverable=l;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(y));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(y));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(n){return new(n||e)(_(v))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var ae=new G("NGSW_REGISTER_SCRIPT");function ge(t,e,o,r){return()=>{if(!(D(r)&&"serviceWorker"in navigator&&o.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let n;if(typeof o.registrationStrategy=="function")n=o.registrationStrategy();else{let[a,...s]=(o.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":n=C(null);break;case"registerWithDelay":n=ce(+s[0]||0);break;case"registerWhenStable":n=s[0]?P(pe(t),ce(+s[0])):pe(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${o.registrationStrategy}`)}}t.get(H).runOutsideAngular(()=>n.pipe(p(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:o.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function ce(t){return C(null).pipe(B(t))}function pe(t){return t.get(q).isStable.pipe(d(o=>o))}function ve(t,e){return new v(D(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var w=class{};function be(t,e={}){return K([ue,le,{provide:ae,useValue:t},{provide:w,useValue:e},{provide:v,useFactory:ve,deps:[w,R]},{provide:$,useFactory:ge,deps:[Z,ae,w,R],multi:!0}])}var de=(()=>{let e=class e{static register(r,n={}){return{ngModule:e,providers:[be(r,n)]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m({type:e}),e.\u0275inj=f({providers:[ue,le]});let t=e;return t})();var fe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m({type:e,bootstrap:[se]}),e.\u0275inj=f({imports:[E,Q,ie,ne,de.register("ngsw-worker.js",{enabled:!Y(),registrationStrategy:"registerWhenStable:30000"})]});let t=e;return t})();J().bootstrapModule(fe).catch(t=>console.error(t));
