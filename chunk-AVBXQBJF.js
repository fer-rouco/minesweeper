import{a as j,b as M,c as x}from"./chunk-PKHZIDRA.js";import{a as w,b as S}from"./chunk-5DHZDIB4.js";import{B as y,C as u,I as T,J as C,L as f,M as p,N as _,O as s,P as c,Q as O,T as h,W as D,X as b,Y as g,z as a}from"./chunk-V5S4DM43.js";var $=(e,t)=>t.attr,L=(e,t)=>t.id;function k(e,t){if(e&1&&(s(0,"th",1),b(1),c()),e&2){let m=t.$implicit;a(),g(m.label)}}function H(e,t){if(e&1&&(s(0,"td",3),b(1),c()),e&2){let m=t.$implicit,n=h().$implicit;a(),g(n[m.attr])}}function R(e,t){if(e&1&&(s(0,"tr"),f(1,H,2,1,"td",3,$),c()),e&2){let m=h();a(),p(m.columnDefinitions)}}function G(e,t){e&1&&(s(0,"span",2),b(1,"No items found."),c())}var F=(()=>{let t=class t{constructor(){this.columnDefinitions=[],this.rowObjects=[]}isEmptyRowObjects(){return!this.rowObjects||this.rowObjects.length===0}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=u({type:t,selectors:[["custom-table"]],inputs:{columnDefinitions:"columnDefinitions",rowObjects:"rowObjects"},decls:8,vars:3,consts:[[1,"custom-table"],[1,"custom-table__header"],[1,"custom-table__no-items-found"],[1,"custom-table__cell"]],template:function(o,i){o&1&&(s(0,"table",0)(1,"tr"),f(2,k,2,1,"th",1,$),c(),f(4,R,3,0,"tr",null,L),s(6,"tr"),T(7,G,2,0,"span",2),c()()),o&2&&(D("flex",i.isEmptyRowObjects()),a(2),p(i.columnDefinitions),a(2),p(i.rowObjects),a(3),C(i.isEmptyRowObjects()?7:-1))},styles:[".custom-table.flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.custom-table__header[_ngcontent-%COMP%]{background-color:#fff;padding:.5rem}.custom-table__header[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:var(--border-radius);border-end-start-radius:var(--border-radius)}.custom-table__header[_ngcontent-%COMP%]:last-of-type{border-top-right-radius:var(--border-radius);border-end-end-radius:var(--border-radius)}.custom-table__cell[_ngcontent-%COMP%]{padding:.5rem}.custom-table__no-items-found[_ngcontent-%COMP%]{background-color:#fff;padding:.5rem}.custom-table__no-items-found[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:var(--border-radius);border-end-start-radius:var(--border-radius)}.custom-table__no-items-found[_ngcontent-%COMP%]:last-of-type{border-top-right-radius:var(--border-radius);border-end-end-radius:var(--border-radius)}"]});let e=t;return e})();var U=(()=>{let t=class t{constructor(n){this.boardService=n,this.ActionHelper=j,this.columnDefinitions=[],this.rowObjects=[]}ngOnInit(){this.columnDefinitions=[{attr:"startTime",label:"Start Time"},{attr:"endTime",label:"End Time"},{attr:"difficulty",label:"Difficulty"},{attr:"totalTimeSpent",label:"Total Time Spent"},{attr:"status",label:"Status"}];let n=this.boardService.getFinishedGameList();if(n){let o=new Intl.DateTimeFormat("en",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0});n=n.sort((i,l)=>i.totalTimeSpent-l.totalTimeSpent),n=n.sort((i,l)=>i.difficulty-l.difficulty),this.rowObjects=n.map(i=>{let l=r=>!r||r.trim().length===0?"":o.format(new Date(r)).replaceAll("/","-").replace(",",""),E=r=>{let v=Math.ceil(r/60),I=r<60?`second${r>1||r===0?"s":""}`:`minute${v>1?"s":""}`;return`${r>60?v:r} ${I}`},P=Math.floor(Math.random()*999+100),d={startTime:l(i.startTime),endTime:l(i.endTime),difficulty:S[i.difficulty],totalTimeSpent:E(i.totalTimeSpent),status:M[i.status]};return d.id=`${d.status}_${d.difficulty}_${d.startTime.replace(" ","_")}_${P}`,d})}}};t.\u0275fac=function(o){return new(o||t)(y(x))},t.\u0275cmp=u({type:t,selectors:[["app-finished-games-list"]],decls:2,vars:3,consts:[["title","Finished Games List",1,"finished-game-list",3,"actions"],[3,"rowObjects","columnDefinitions"]],template:function(o,i){o&1&&(s(0,"panel",0),O(1,"custom-table",1),c()),o&2&&(_("actions",i.ActionHelper.buildFinishedGameListActions()),a(),_("rowObjects",i.rowObjects)("columnDefinitions",i.columnDefinitions))},dependencies:[w,F],styles:[".finished-game-list[_ngcontent-%COMP%]{view-transition-name:scale3d}"]});let e=t;return e})();export{U as FinishedGamesListComponent};
