import{a as T}from"./chunk-J6IBT3IJ.js";import{a as i}from"./chunk-TEVWX22Z.js";import{A as d,C,E as S,K as y,O as M,Q as D,R as E,S as _,T as w,V as B,X as L,h,l as f,m as r,n as a,r as l,w as m,x as u,y as b}from"./chunk-3GNLR77I.js";var J=(()=>{let n=class n{constructor(o,t,e){this.router=o,this.configService=t,this.notificationService=e,this.difficultyLevels=[{label:i[i.CUSTOM],value:i.CUSTOM.toString()},{label:i[i.EASY],value:i.EASY.toString()},{label:i[i.MEDIUM],value:i.MEDIUM.toString()},{label:i[i.HARD],value:i.HARD.toString()}],this.config=f(void 0),this.customDifficultyEnabled=f(!1),this.config.set(void 0)}ngOnInit(){this.configService.restoreConfig(),this.config.set(this.configService.getConfig()),this.customDifficultyEnabled.set(this.isCustomDifficultyLevel())}validateFields(){let o=(R,F,I,O)=>`${R} number of ${F} exceeded. Please set a number ${I} than or equal to ${O}.`;if(!this.config())return!1;let t=this.config(),e=2;if(t.getBombs()<e)return this.notificationService.addError(o("Minimum","bombs","greater",e)),!1;if(!this.configService.validateBombsQuantity())return this.notificationService.addError(o("Maximum","bombs","lower",this.configService.getMaxQuantityOfBombs())),!1;let s=4;if(t.getColumns()<s)return this.notificationService.addError(o("Minimum","columns","greater",s)),!1;let g=50;if(t.getColumns()>g)return this.notificationService.addError(o("Maximum","columns","lower",g)),!1;let p=4;if(t.getRows()<p)return this.notificationService.addError(o("Minimum","rows","greater",p)),!1;let v=25;return t.getRows()>v?(this.notificationService.addError(o("Maximum","rows","lower",v)),!1):!0}onGoToBoardClick(){this.validateFields()&&(this.configService.storeConfig(),this.navigateToBoard())}navigateToBoard(){this.router.navigateByUrl("/board")}onDifficultyLevelChange(){this.configService.doConfig(),this.config.set(this.configService.getConfig()),this.customDifficultyEnabled.set(this.isCustomDifficultyLevel())}isCustomDifficultyLevel(){return(this.config()&&this.config().getDifficultyLevel())===i.CUSTOM}};n.\u0275fac=function(t){return new(t||n)(a(M),a(T),a(B))},n.\u0275cmp=h({type:n,selectors:[["app-setup"]],standalone:!0,features:[S],decls:8,vars:8,consts:[[1,"panel"],["title","Setup"],["attr","difficultyLevel","label","Difficulty Level",3,"model","options","change"],["attr","columns","label","Columns",3,"model","enabled"],["attr","rows","label","Rows",3,"model","enabled"],["attr","bombs","label","Bombs",3,"model","enabled"],[1,"panel__to-board-button",3,"click"]],template:function(t,e){t&1&&(m(0,"div",0)(1,"panel",1)(2,"select-field",2),d("change",function(){return e.onDifficultyLevelChange()}),u(),b(3,"numeric-field",3)(4,"numeric-field",4)(5,"numeric-field",5),m(6,"custom-button",6),d("click",function(){return e.onGoToBoardClick()}),C(7," Go to Board "),u()()()),t&2&&(r(2),l("model",e.config())("options",e.difficultyLevels),r(),l("model",e.config())("enabled",e.customDifficultyEnabled()),r(),l("model",e.config())("enabled",e.customDifficultyEnabled()),r(),l("model",e.config())("enabled",e.customDifficultyEnabled()))},dependencies:[y,L,E,w,_,D],styles:[".panel[_ngcontent-%COMP%]{max-width:20rem}.panel__to-board-button[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});let c=n;return c})();export{J as SetupComponent};
