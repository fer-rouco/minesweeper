import{d as h}from"./chunk-5DHZDIB4.js";import{a as l,b as o,d as r,l as n,o as d,r as m,va as g}from"./chunk-V5S4DM43.js";var p=class t{static buildBaseAction(e,a=g.BUTTON){return{id:e,type:a}}static buildLabel(e){return{label:e}}static buildIcon(e){return{icon:e}}static buildLabelOrIcon(e){let a=t.buildLabel("");return e.label&&(a=t.buildLabel(e.label)),e.icon&&(a=t.buildIcon(e.icon)),a}static buildFuctionAction(e){return o(l(l({},t.buildBaseAction(e.id,e.type)),t.buildLabelOrIcon(e)),{function:e.fn})}static buildLinkAction(e){return o(l(l({},t.buildBaseAction(e.id,e.type)),t.buildLabelOrIcon(e)),{to:e.to})}static buildBoardAction(){return t.buildLinkAction({id:"board",icon:"bomb.png",to:"/board"})}static buildFinishedGameListAction(e){return t.buildLinkAction({id:"finished-games-list",icon:e.icon,label:e.label,type:e.type,to:"/finished-games-list"})}static buildFinishedGameListIconAction(){return t.buildFinishedGameListAction({icon:"list.svg"})}static buildSetupAction(){return t.buildLinkAction({id:"setup",icon:"settings.svg",to:"/setup"})}static buildBoardActions(){return[t.buildFinishedGameListIconAction(),t.buildSetupAction()]}static buildFinishedGameListActions(){return[t.buildBoardAction(),t.buildSetupAction()]}};var $=function(t){return t[t.WIN=0]="WIN",t[t.LOOSE=1]="LOOSE",t}($||{});var T=(()=>{let e=class e{constructor(i){this.storageManagerService=i,this.resetGame$=new r,this.startingNewGame$=new r,this.startTimer$=new r,this.gameOver$=new r,this.updateFlagCounter$=new r}ngOnDestroy(){let i=new r;this.resetGame$.pipe(n(i)).subscribe(()=>{}),this.startingNewGame$.pipe(n(i)).subscribe(()=>{}),this.startTimer$.pipe(n(i)).subscribe(()=>{}),this.gameOver$.pipe(n(i)).subscribe(()=>{}),this.updateFlagCounter$.pipe(n(i)).subscribe(()=>{})}resetGame(){this.resetGame$.next(null)}getResetGameObservable(){return this.resetGame$.asObservable()}gameOver(i){this.gameOver$.next(i)}getGameOverObservable(){return this.gameOver$.asObservable()}startNewGame(){this.startingNewGame$.next(null)}getStartNewGameObservable(){return this.startingNewGame$.asObservable()}startTimer(){this.startTimer$.next(null)}getStartTimerObservable(){return this.startTimer$.asObservable()}updateFlagCounter(i){this.updateFlagCounter$.next(i)}getUpdateFlagCounterObservable(){return this.updateFlagCounter$.asObservable()}registerFinishedGameItem(i,s,O,v){let b=i||s,c=0;b&&s&&(c=Math.abs(s.getTime()-b.getTime())/1e3);let f={startTime:b?.toString()||"",endTime:s?.toString()||"",difficulty:O,totalTimeSpent:c,status:v},u=this.storageManagerService.getItem("list");u||(u=new Array),u.push(f),this.storageManagerService.setItem("list",u)}getFinishedGameList(){return this.storageManagerService.getItem("list")}};e.\u0275fac=function(s){return new(s||e)(m(h))},e.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{p as a,$ as b,T as c};
